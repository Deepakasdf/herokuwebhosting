<%= layout('/boilerplate') %>

<link href="/stylesheet/star.css" rel="stylesheet" type="text/css">

<body>

  <div class="row mt-1">
    <div class="col-12  col-sm-3 mt-1 mb-3">
  <h1> your choice </h1>
  <div class="card" style="width: 18rem;">
    <img src="<%= campground.image %>" class="card-img-top" >
    <div class="card-body">
      <h5 class="card-title"> <%= campground.city %></h5>
      <h5 class="card-title"> <%= campground.place %></h5>
     
    <h5 class="mt-2">leave your review here</h5>
  <form action ="/campground/<%= campground._id %>/reviews" method="POST" novalidate class="validate-form">
   
      <fieldset class="starability-basic">
        <input type="radio" id="no-rate" class="input-no-rate" name="review[rating]" value="0" checked aria-label="No rating." />
        <input type="radio" id="second-rate1" name="review[rating]" value="1" />
        <label for="second-rate1" title="Terrible">1 star</label>
        <input type="radio" id="second-rate2" name="review[rating]" value="2" />
        <label for="second-rate2" title="Not good">2 stars</label>
        <input type="radio" id="second-rate3" name="review[rating]" value="3" />
        <label for="second-rate3" title="Average">3 stars</label>
        <input type="radio" id="second-rate4" name="review[rating]" value="4" />
        <label for="second-rate4" title="Very good">4 stars</label>
        <label for="second-rate5" title="amazing">5 stars</label>
        <input type="radio" id="second-rate5" name="review[rating]" value="5" />
    
      </fieldset>
      
      
    <label for="body">review</label>
    <textarea class="form-control" row="3" col="10" name="review[body] " required></textarea>
    <div class="valid-feedback">
      looks good
    </div>
  
    <button class="btn btn-info mt-2 mb-2 ">submit</button>
  </form>
  
  <div class="card">
  
  <% for(let review of campground.reviews) { %>
  <p>Rating : <%= review.rating %></p>
  <p>your review : <%= review.body %></p>
  <p class="starability-result" data-rating="<%= review.rating %>">
    Rated:<%= review.rating %> stars
  </p>
   <form action="/campground/<%= campground._id %>/reviews/<%= review._id %>?_method=DELETE" method="POST">
    <button class="btn btn-danger">Delete</button>
      </form> 
    <% } %>
  
  </div>
  </div>







    </div>
  </div>

</div>
 
<div class="col-3  col-sm-3 ">
  <div id='map' style='width: 400px; height: 300px;'></div>
  </div>



</body>

<script>
  const mapToken =  '<%- process.env.MAPBOX_TOKEN %>';
 const campground = <%- JSON.stringify(campground) %>;
</script>


<script src="/javascript/showmap.js"></script>


    

</html>